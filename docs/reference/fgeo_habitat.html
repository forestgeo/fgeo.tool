<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Construct habitat data from measures of topography. — fgeo_habitat • fgeo.tool</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Construct habitat data from measures of topography. — fgeo_habitat" />

<meta property="og:description" content="This function constructs habitat data based on elevation data. It calculates
habitats in two steps:
It calculates mean elevation, convexity and slope for each quadrat (via
fgeo_topography())).
It calculates habitats based on hierarchical clustering of the topographic
metrics from step 1 (via stats::hclust()).
" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fgeo.tool</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.0.9003</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/maurolepore">
    <span class="fa fa-gavel"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/forestgeo/fgeo.tool">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://forestgeo.github.io/fgeo/">fgeo</a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Construct habitat data from measures of topography.</h1>
    <small class="dont-index">Source: <a href='https://github.com/forestgeo/fgeo.tool/blob/master/R/fgeo_habitat.R'><code>R/fgeo_habitat.R</code></a></small>
    <div class="hidden name"><code>fgeo_habitat.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This function constructs habitat data based on elevation data. It calculates
habitats in two steps:</p><ol>
<li><p>It calculates mean elevation, convexity and slope for each quadrat (via
<code><a href='fgeo_topography.html'>fgeo_topography()</a></code>)).</p></li>
<li><p>It calculates habitats based on hierarchical clustering of the topographic
metrics from step 1 (via <code><a href='http://www.rdocumentation.org/packages/stats/topics/hclust'>stats::hclust()</a></code>).</p></li>
</ol>
    
    </div>

    <pre class="usage"><span class='fu'>fgeo_habitat</span>(<span class='no'>elevation</span>, <span class='no'>gridsize</span>, <span class='no'>n</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>elevation</th>
      <td><p>One of these:</p><ul>
<li><p>A list with at least three elements: <code>col</code> containing
elevation data; and <code>xdim</code> and <code>ydim</code> giving plot dimensions; OR</p></li>
<li><p>A dataframe containing elevation data, in which
case the parameters <code>xdim</code> and <code>ydim</code> must be provided. It may be the
element <code>col</code> of a ForestGEO elevation-list or an object of class
fgeo_elevation (see <code><a href='fgeo_elevation.html'>fgeo_elevation()</a></code>).</p></li>
</ul></td>
    </tr>
    <tr>
      <th>gridsize</th>
      <td><p>Number giving the size of each quadrat for which a habitat
is calculated. Commonly, <code>gridsize = 20</code>.</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p>Integer. Number of cluster-groups to construct (passed to the
argument <code>k</code> to <code><a href='http://www.rdocumentation.org/packages/stats/topics/cutree'>stats::cutree()</a></code>).</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Arguments passed to <code><a href='fgeo_topography.html'>fgeo_topography()</a></code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A dataframe of subclass fgeo_habitat, with columns <code>gx</code> and <code>gy</code>,
rounded with accuracy determined by <code>gridsize</code>, and column <code>habitats</code>, with
as many distinct integer values as determined by the argument <code>n</code>.</p>
    
    <h2 class="hasAnchor" id="input"><a class="anchor" href="#input"></a>Input</h2>

    
    <p>The main input can be either the elevation list that ForestGEO delivers, or
the element <code>col</code> of such list -- which is a dataframe containing the
elevation data. Notice that the required arguments vary according to the main
input (the elevation list or the elevation dataframe). Whatever the input,
the dataframe containing the elevation data must have columns <code>gx</code> and <code>gy</code>
or <code>x</code> and <code>y</code>.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://forestgeo.github.io/fgeo.map//reference/plot.fgeo_habitat.html'>fgeo.map::plot.fgeo_habitat()</a></code>, <code><a href='fgeo_topography.html'>fgeo_topography()</a></code>.</p>
<p>Other functions to construct fgeo classes.: <code><a href='fgeo_elevation.html'>fgeo_elevation</a></code>,
  <code><a href='fgeo_topography.html'>fgeo_topography</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Input a ForestGEO-like elevation list</span>
<span class='no'>elev_list</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>fgeo.data</span><span class='kw ns'>::</span><span class='no'><a href='http://www.rdocumentation.org/packages/fgeo.data/topics/luquillo_elevation'>luquillo_elevation</a></span>
<span class='no'>habs</span> <span class='kw'>&lt;-</span> <span class='fu'>fgeo_habitat</span>(<span class='no'>elev_list</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>4</span>, <span class='kw'>gridsize</span> <span class='kw'>=</span> <span class='fl'>20</span>)
<span class='fu'>str</span>(<span class='no'>habs</span>)</div><div class='output co'>#&gt; Classes 'fgeo_habitat', 'tbl_df', 'tbl' and 'data.frame':	400 obs. of  3 variables:
#&gt;  $ gx      : num  0 0 0 0 0 0 0 0 0 0 ...
#&gt;  $ gy      : num  0 20 40 60 80 100 120 140 160 180 ...
#&gt;  $ habitats: int  1 1 1 1 1 1 1 1 1 1 ...</div><div class='input'>
<span class='kw'>if</span> (<span class='fu'>requireNamespace</span>(<span class='st'>"fgeo.map"</span>)) {
  <span class='fu'>library</span>(<span class='no'>fgeo.map</span>)
  <span class='fu'>plot</span>(<span class='no'>habs</span>)
}</div><div class='output co'>#&gt; <span class='message'>Loading required namespace: fgeo.map</span></div><div class='img'><img src='fgeo_habitat-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># A good use of habitat data is for calculating species-habitat associations</span>
<span class='kw'>if</span> (<span class='fu'>requireNamespace</span>(<span class='st'>"fgeo.habitat"</span>)) {
  <span class='fu'>library</span>(<span class='no'>fgeo.habitat</span>)

  <span class='no'>elev_list</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>fgeo.data</span><span class='kw ns'>::</span><span class='no'><a href='http://www.rdocumentation.org/packages/fgeo.data/topics/luquillo_elevation'>luquillo_elevation</a></span>
  <span class='no'>habitat</span> <span class='kw'>&lt;-</span> <span class='fu'>fgeo_habitat</span>(<span class='no'>elev_list</span>, <span class='kw'>gridsize</span> <span class='kw'>=</span> <span class='fl'>20</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>4</span>)
  <span class='no'>census</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>fgeo.habitat</span><span class='kw ns'>::</span><span class='no'><a href='http://www.rdocumentation.org/packages/fgeo.habitat/topics/luquillo_top3_sp'>luquillo_top3_sp</a></span>
  <span class='no'>species</span> <span class='kw'>&lt;-</span> <span class='fu'>unique</span>(<span class='no'>census</span>$<span class='no'>sp</span>)
  <span class='fu'><a href='to_df.html'>to_df</a></span>(<span class='fu'><a href='http://www.rdocumentation.org/packages/fgeo.habitat/topics/tt_test'>tt_test</a></span>(<span class='no'>census</span>, <span class='no'>species</span>, <span class='no'>habitat</span>))
}</div><div class='output co'>#&gt; <span class='message'>Loading required namespace: fgeo.habitat</span></div><div class='output co'>#&gt; <span class='message'>Using `plotdim = c(320, 500)`. To change this value see `?tt_test()`.</span></div><div class='output co'>#&gt; <span class='message'>Using `gridsize = 20`. To change this value see `?tt_test()`.</span></div><div class='output co'>#&gt; # A tibble: 12 x 8
#&gt;    habitat sp     distribution stem_count Eq.Hab Gr.Hab Ls.Hab Obs.Quantile
#&gt;  * &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;             &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;        &lt;dbl&gt;
#&gt;  1 1       CASARB neutral              29      2   1242    356        0.776
#&gt;  2 1       PREMON neutral              91      3   1093    504        0.683
#&gt;  3 1       SLOBER neutral              18      3    273   1324        0.171
#&gt;  4 2       CASARB neutral              20      4    390   1206        0.244
#&gt;  5 2       PREMON neutral              89      2   1254    344        0.784
#&gt;  6 2       SLOBER neutral              24      2    810    788        0.506
#&gt;  7 3       CASARB neutral              12      5    778    817        0.486
#&gt;  8 3       PREMON neutral              40      3    305   1292        0.191
#&gt;  9 3       SLOBER neutral              17      5   1155    440        0.722
#&gt; 10 4       CASARB neutral               5     10    932    658        0.582
#&gt; 11 4       PREMON neutral              14      8    270   1322        0.169
#&gt; 12 4       SLOBER neutral               7      5   1292    303        0.808</div><div class='input'>
<span class='co'># If working with elevation dataframe you must provide xdim and ydim</span>
<span class='no'>elev_df</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>fgeo.data</span><span class='kw ns'>::</span><span class='no'><a href='http://www.rdocumentation.org/packages/fgeo.data/topics/luquillo_elevation'>luquillo_elevation</a></span>$<span class='no'>col</span>
<span class='no'>hab2</span> <span class='kw'>&lt;-</span> <span class='fu'>fgeo_habitat</span>(<span class='no'>elev_df</span>, <span class='kw'>gridsize</span> <span class='kw'>=</span> <span class='fl'>20</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>4</span>, <span class='kw'>xdim</span> <span class='kw'>=</span> <span class='fl'>320</span>, <span class='kw'>ydim</span> <span class='kw'>=</span> <span class='fl'>500</span>)
<span class='fu'>str</span>(<span class='no'>hab2</span>)</div><div class='output co'>#&gt; Classes 'fgeo_habitat', 'tbl_df', 'tbl' and 'data.frame':	400 obs. of  3 variables:
#&gt;  $ gx      : num  0 0 0 0 0 0 0 0 0 0 ...
#&gt;  $ gy      : num  0 20 40 60 80 100 120 140 160 180 ...
#&gt;  $ habitats: int  1 1 1 1 1 1 1 1 1 1 ...</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#input">Input</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://github.com/maurolepore'>Mauro Lepore</a>, <a href='http://www.forestgeo.si.edu/'>CTFS-ForestGEO</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

