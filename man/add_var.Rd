% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/add_var.R
\name{add_var}
\alias{add_var}
\alias{add_lxly}
\alias{add_qxqy}
\alias{add_index}
\alias{add_col_row}
\alias{add_hectindex}
\alias{add_quad}
\alias{add_col_row2}
\title{Add columns \code{lx/ly}; \code{QX/QY}; \code{index}; \code{col/row}; and \code{hectindex}, \code{quad}.}
\usage{
add_lxly(x, gridsize = 20, plotdim = NULL)

add_qxqy(x, gridsize = 20, plotdim = NULL)

add_index(x, gridsize = 20, plotdim = NULL)

add_col_row(x, gridsize = 20, plotdim = NULL)

add_hectindex(x, gridsize = 20, plotdim = NULL)

add_quad(x, gridsize = 20, plotdim = NULL, start = NULL, width = 2)

add_col_row2(x)
}
\arguments{
\item{x}{A ForestGEO table, either a ViewFullTable or a census table.}

\item{gridsize}{The gridsize of the census plot (commonly 20 m).}

\item{plotdim}{The global dimensions of the census plot (i.e. the
maximum possible values of \code{gx} and \code{gy}).}

\item{start}{Defaults to label the first quadrat as "0101". Use \code{0} to
instead label it as "0000".}

\item{width}{Number; width to pad the labels of plot-columns and -rows.}
}
\value{
A modified version of the dataframe \code{x} with the additional
variable(s) \code{var}.
}
\description{
These functions add columns to position trees/stems in a forest plot. They
work with ViewFull-tables and census-tables (tree and stem).
}
\details{
These functions mostly wrap legacy code from the \href{http://ctfs.si.edu/Public/CTFSRPackage/}{CTFS R Package}.
}
\examples{
x <- tribble(
    ~gx,    ~gy,
      0,      0,
     50,     25,
  999.9, 499.95,
   1000,    500
)

# `gridsize` has a common default; `plotdim` is guessed from the data
add_lxly(x)

gridsize <- 20
plotdim <- c(1000, 500)

add_qxqy(x, gridsize, plotdim)

add_index(x, gridsize, plotdim)

add_hectindex(x, gridsize, plotdim)

add_quad(x, gridsize, plotdim)

add_quad(x, gridsize, plotdim, start = 0)

# `width` gives the nuber of digits to pad the label of plot-rows and
# plot-columns, e.g. 3 pads plot-rows with three zeros and plot-columns with
# an extra trhree zeros, resulting in a total of 6 zeros.
add_quad(x, gridsize, plotdim, start = 0, width = 3)

add_col_row(x, gridsize, plotdim)

# Column and row from QuadratName
x <- tribble(
  ~QuadratName,
        "0001",
        "0011",
        "0101",
        "1001"
)

add_col_row2(x)

# Separate `QuadratName` at any positon with argumet `sep` of `tidyr::separate()`
\dontrun{
tidyr_is_installed <- requireNamespace("tidyr", quietly = TRUE)
if (tidyr_is_installed) {
  library(tidyr)
  
  x <- tribble(
    ~QuadratName,
         "00001",
         "00011",
         "00101",
         "01001"
  )
  
  separate(
    x, 
    QuadratName, into = c("col", "row"), 
    sep = 3, 
    remove = FALSE
  )
} 
}

}
\seealso{
Other functions to add columns to dataframes: \code{\link{add_status_tree}},
  \code{\link{add_subquad}}

Other functions for ForestGEO data: \code{\link{add_status_tree}},
  \code{\link{add_subquad}}

Other functions for fgeo census: \code{\link{add_status_tree}},
  \code{\link{guess_plotdim}}, \code{\link{pick_drop}}

Other functions for fgeo vft: \code{\link{add_status_tree}},
  \code{\link{add_subquad}}, \code{\link{guess_plotdim}},
  \code{\link{pick_drop}}
}
\concept{functions for ForestGEO data}
\concept{functions for fgeo census}
\concept{functions for fgeo vft}
\concept{functions to add columns to dataframes}
