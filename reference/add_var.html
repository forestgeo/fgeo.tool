<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Add columns lx/ly, QX/QY, index, col/row, hectindex, quad, gx/gy. — add_var • fgeo.tool</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Add columns lx/ly, QX/QY, index, col/row, hectindex, quad, gx/gy. — add_var" />
<meta property="og:description" content="These functions add columns to position trees in a forest plot. They work
with ViewFullTable, tree and stem tables. From the input table, most
functions use only the gx and gy columns (or equivalent columns). The
exception is the function add_gxgy() which inputs quadrat information. If
your data lacks some important column, an error message will inform you which
column is missing." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fgeo.tool</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.6.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/maurolepore">
    <span class="fas fa-gavel"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/forestgeo/fgeo.tool">
    <span class="fas fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://forestgeo.github.io/fgeo/">fgeo</a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add columns <code>lx/ly</code>, <code>QX/QY</code>, <code>index</code>, <code>col/row</code>, <code>hectindex</code>, <code>quad</code>, <code>gx/gy</code>.</h1>
    <small class="dont-index">Source: <a href='https://github.com/forestgeo/fgeo.tool/blob/master/R/add_var.R'><code>R/add_var.R</code></a></small>
    <div class="hidden name"><code>add_var.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>These functions add columns to position trees in a forest plot. They work
with <em>ViewFullTable</em>, <em>tree</em> and <em>stem</em> tables. From the input table, most
functions use only the <code>gx</code> and <code>gy</code> columns (or equivalent columns). The
exception is the function <code>add_gxgy()</code> which inputs quadrat information. If
your data lacks some important column, an error message will inform you which
column is missing.</p>
    </div>

    <pre class="usage"><span class='fu'>add_lxly</span><span class='op'>(</span><span class='va'>data</span>, gridsize <span class='op'>=</span> <span class='fl'>20</span>, plotdim <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='fu'>add_qxqy</span><span class='op'>(</span><span class='va'>data</span>, gridsize <span class='op'>=</span> <span class='fl'>20</span>, plotdim <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='fu'>add_index</span><span class='op'>(</span><span class='va'>data</span>, gridsize <span class='op'>=</span> <span class='fl'>20</span>, plotdim <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='fu'>add_col_row</span><span class='op'>(</span><span class='va'>data</span>, gridsize <span class='op'>=</span> <span class='fl'>20</span>, plotdim <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='fu'>add_hectindex</span><span class='op'>(</span><span class='va'>data</span>, gridsize <span class='op'>=</span> <span class='fl'>20</span>, plotdim <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='fu'>add_quad</span><span class='op'>(</span><span class='va'>data</span>, gridsize <span class='op'>=</span> <span class='fl'>20</span>, plotdim <span class='op'>=</span> <span class='cn'>NULL</span>, start <span class='op'>=</span> <span class='cn'>NULL</span>, width <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>

<span class='fu'>add_gxgy</span><span class='op'>(</span><span class='va'>data</span>, gridsize <span class='op'>=</span> <span class='fl'>20</span>, start <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A ForestGEO-like dataframe: A <em>ViewFullTable</em>, <em>tree</em> or <em>stem</em>
table.</p></td>
    </tr>
    <tr>
      <th>gridsize</th>
      <td><p>The gridsize of the census plot (commonly 20 m).</p></td>
    </tr>
    <tr>
      <th>plotdim</th>
      <td><p>The global dimensions of the census plot (i.e. the
maximum possible values of <code>gx</code> and <code>gy</code>).</p></td>
    </tr>
    <tr>
      <th>start</th>
      <td><p>Defaults to label the first quadrat as "0101". Use <code>0</code> to
label it as "0000" instead.</p></td>
    </tr>
    <tr>
      <th>width</th>
      <td><p>Number; width to pad the labels of plot-columns and -rows.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>For any given <code>var</code>, a function <code>add_var()</code> returns a modified
version of the input dataframe, with the additional variable(s) <code>var</code>.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>These functions are adapted from the <a href='http://ctfs.si.edu/Public/CTFSRPackage/'>CTFS R Package</a>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other functions to add columns to dataframes: 
<code><a href='add_status_tree.html'>add_status_tree</a>()</code>,
<code><a href='add_subquad.html'>add_subquad</a>()</code></p>
<p>Other functions for ForestGEO data: 
<code><a href='add_status_tree.html'>add_status_tree</a>()</code>,
<code><a href='add_subquad.html'>add_subquad</a>()</code></p>
<p>Other functions for fgeo census: 
<code><a href='add_status_tree.html'>add_status_tree</a>()</code>,
<code><a href='guess_plotdim.html'>guess_plotdim</a>()</code>,
<code><a href='pick_drop.html'>pick_drop</a></code></p>
<p>Other functions for fgeo vft: 
<code><a href='add_status_tree.html'>add_status_tree</a>()</code>,
<code><a href='add_subquad.html'>add_subquad</a>()</code>,
<code><a href='guess_plotdim.html'>guess_plotdim</a>()</code>,
<code><a href='pick_drop.html'>pick_drop</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://tibble.tidyverse.org/reference/tribble.html'>tribble</a></span><span class='op'>(</span>
    <span class='op'>~</span><span class='va'>gx</span>,    <span class='op'>~</span><span class='va'>gy</span>,
      <span class='fl'>0</span>,      <span class='fl'>0</span>,
     <span class='fl'>50</span>,     <span class='fl'>25</span>,
  <span class='fl'>999.9</span>, <span class='fl'>499.95</span>,
   <span class='fl'>1000</span>,    <span class='fl'>500</span>
<span class='op'>)</span>

<span class='co'># `gridsize` has a common default; `plotdim` is guessed from the data</span>
<span class='fu'>add_lxly</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Guessing: plotdim = c(1000, 500)</span></div><div class='output co'>#&gt; <span class='message'>* If guess is wrong, provide the correct argument `plotdim`</span></div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 4 x 4</span>
#&gt;      gx    gy    lx    ly
#&gt;   <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>
#&gt; <span style='color: #BCBCBC;'>1</span>    0     0    0     0  
#&gt; <span style='color: #BCBCBC;'>2</span>   50    25   10     5  
#&gt; <span style='color: #BCBCBC;'>3</span> <span style='text-decoration: underline;'>1</span>000.  500.  19.9  19.9
#&gt; <span style='color: #BCBCBC;'>4</span> <span style='text-decoration: underline;'>1</span>000   500   <span style='color: #BB0000;'>NA</span>    <span style='color: #BB0000;'>NA</span>  </div><div class='input'>
<span class='va'>gridsize</span> <span class='op'>&lt;-</span> <span class='fl'>20</span>
<span class='va'>plotdim</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1000</span>, <span class='fl'>500</span><span class='op'>)</span>

<span class='fu'>add_qxqy</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>gridsize</span>, <span class='va'>plotdim</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 4 x 4</span>
#&gt;      gx    gy    QX    QY
#&gt;   <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>
#&gt; <span style='color: #BCBCBC;'>1</span>    0     0    0     0  
#&gt; <span style='color: #BCBCBC;'>2</span>   50    25   10     5  
#&gt; <span style='color: #BCBCBC;'>3</span> <span style='text-decoration: underline;'>1</span>000.  500.  19.9  19.9
#&gt; <span style='color: #BCBCBC;'>4</span> <span style='text-decoration: underline;'>1</span>000   500   <span style='color: #BB0000;'>NA</span>    <span style='color: #BB0000;'>NA</span>  </div><div class='input'>
<span class='fu'>add_index</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>gridsize</span>, <span class='va'>plotdim</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 4 x 3</span>
#&gt;      gx    gy index
#&gt;   <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>
#&gt; <span style='color: #BCBCBC;'>1</span>    0     0      1
#&gt; <span style='color: #BCBCBC;'>2</span>   50    25     52
#&gt; <span style='color: #BCBCBC;'>3</span> <span style='text-decoration: underline;'>1</span>000.  500.  <span style='text-decoration: underline;'>1</span>250
#&gt; <span style='color: #BCBCBC;'>4</span> <span style='text-decoration: underline;'>1</span>000   500     <span style='color: #BB0000;'>NA</span></div><div class='input'>
<span class='fu'>add_hectindex</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>gridsize</span>, <span class='va'>plotdim</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: Some values of `gx` and/or `gy` lay at or beyond plot limits</span></div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 4 x 3</span>
#&gt;      gx    gy hectindex
#&gt;   <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>     <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>
#&gt; <span style='color: #BCBCBC;'>1</span>    0     0          1
#&gt; <span style='color: #BCBCBC;'>2</span>   50    25          1
#&gt; <span style='color: #BCBCBC;'>3</span> <span style='text-decoration: underline;'>1</span>000.  500.        50
#&gt; <span style='color: #BCBCBC;'>4</span> <span style='text-decoration: underline;'>1</span>000   500         56</div><div class='input'>
<span class='fu'>add_quad</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>gridsize</span>, <span class='va'>plotdim</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 4 x 3</span>
#&gt;      gx    gy quad 
#&gt;   <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>
#&gt; <span style='color: #BCBCBC;'>1</span>    0     0  0101 
#&gt; <span style='color: #BCBCBC;'>2</span>   50    25  0302 
#&gt; <span style='color: #BCBCBC;'>3</span> <span style='text-decoration: underline;'>1</span>000.  500. 5025 
#&gt; <span style='color: #BCBCBC;'>4</span> <span style='text-decoration: underline;'>1</span>000   500  <span style='color: #BB0000;'>NA</span>   </div><div class='input'>
<span class='fu'>add_quad</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>gridsize</span>, <span class='va'>plotdim</span>, start <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 4 x 3</span>
#&gt;      gx    gy quad 
#&gt;   <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>
#&gt; <span style='color: #BCBCBC;'>1</span>    0     0  0000 
#&gt; <span style='color: #BCBCBC;'>2</span>   50    25  0201 
#&gt; <span style='color: #BCBCBC;'>3</span> <span style='text-decoration: underline;'>1</span>000.  500. 4924 
#&gt; <span style='color: #BCBCBC;'>4</span> <span style='text-decoration: underline;'>1</span>000   500  <span style='color: #BB0000;'>NA</span>   </div><div class='input'>
<span class='co'># `width` gives the nuber of digits to pad the label of plot-rows and</span>
<span class='co'># plot-columns, e.g. 3 pads plot-rows with three zeros and plot-columns with</span>
<span class='co'># an extra trhree zeros, resulting in a total of 6 zeros.</span>
<span class='fu'>add_quad</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>gridsize</span>, <span class='va'>plotdim</span>, start <span class='op'>=</span> <span class='fl'>0</span>, width <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 4 x 3</span>
#&gt;      gx    gy quad  
#&gt;   <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> 
#&gt; <span style='color: #BCBCBC;'>1</span>    0     0  000000
#&gt; <span style='color: #BCBCBC;'>2</span>   50    25  002001
#&gt; <span style='color: #BCBCBC;'>3</span> <span style='text-decoration: underline;'>1</span>000.  500. 049024
#&gt; <span style='color: #BCBCBC;'>4</span> <span style='text-decoration: underline;'>1</span>000   500  0NA0NA</div><div class='input'>
<span class='fu'>add_col_row</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>gridsize</span>, <span class='va'>plotdim</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 4 x 4</span>
#&gt;      gx    gy col   row  
#&gt;   <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>
#&gt; <span style='color: #BCBCBC;'>1</span>    0     0  01    01   
#&gt; <span style='color: #BCBCBC;'>2</span>   50    25  03    02   
#&gt; <span style='color: #BCBCBC;'>3</span> <span style='text-decoration: underline;'>1</span>000.  500. 50    25   
#&gt; <span style='color: #BCBCBC;'>4</span> <span style='text-decoration: underline;'>1</span>000   500  <span style='color: #BB0000;'>NA</span>    <span style='color: #BB0000;'>NA</span>   </div><div class='input'>

<span class='co'># From `quadrat` or `QuadratName` --------------------------------------</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://tibble.tidyverse.org/reference/tribble.html'>tribble</a></span><span class='op'>(</span>
  <span class='op'>~</span><span class='va'>QuadratName</span>,
        <span class='st'>"0001"</span>,
        <span class='st'>"0011"</span>,
        <span class='st'>"0101"</span>,
        <span class='st'>"1001"</span>
<span class='op'>)</span>

<span class='co'># Output `gx` and `gy` ---------------</span>

<span class='fu'>add_gxgy</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   QuadratName  gx  gy
#&gt; 1        0001   0  20
#&gt; 2        0011   0 220
#&gt; 3        0101  20  20
#&gt; 4        1001 200  20</div><div class='input'> 
<span class='fu'><a href='assert_is_installed.html'>assert_is_installed</a></span><span class='op'>(</span><span class='st'>"fgeo.x"</span><span class='op'>)</span>
<span class='co'># Warning: The data may already have `gx` and `gx` columns</span>
<span class='va'>gxgy</span> <span class='op'>&lt;-</span> <span class='fu'>add_gxgy</span><span class='op'>(</span><span class='fu'>fgeo.x</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/fgeo.x/man/datasets.html'>tree5</a></span><span class='op'>)</span>
<span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>gxgy</span>, <span class='fu'><a href='https://tidyselect.r-lib.org/reference/starts_with.html'>matches</a></span><span class='op'>(</span><span class='st'>"gx|gy"</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;        gx     gy gx1 gy1
#&gt; 1  138.68 425.26 140 440
#&gt; 2   94.76 424.41 100 440
#&gt; 3   61.31 495.73  80 500
#&gt; 4  100.27 328.01 120 340
#&gt; 5   53.84  73.81  60  80
#&gt; 6  202.64 109.86 220 120
#&gt; 7  172.45  14.73 180  20
#&gt; 8  183.50 194.22 200 200
#&gt; 9  191.04 131.80 200 140
#&gt; 10 273.93 278.68 280 280
#&gt; 11 216.39 261.34 220 280
#&gt; 12   8.83 189.63  20 200
#&gt; 13 267.28 370.88 280 380
#&gt; 14 137.64 355.95 140 360
#&gt; 15 120.05 216.51 140 220
#&gt; 16 165.95 410.29 180 420
#&gt; 17  56.67 267.22  60 280
#&gt; 18 315.77 230.64 320 240
#&gt; 19  79.74  22.76  80  40
#&gt; 20 278.00  40.62 280  60
#&gt; 21 113.97 182.33 120 200
#&gt; 22  23.96 496.57  40 500
#&gt; 23 145.93 217.68 160 220
#&gt; 24  84.17 285.45 100 300
#&gt; 25 246.90 354.20 260 360
#&gt; 26 279.02 209.98 280 220
#&gt; 27 152.55 425.55 160 440
#&gt; 28  89.78 407.99 100 420
#&gt; 29 112.79 426.00 120 440
#&gt; 30  47.00 479.81  60 480</div><div class='input'>
<span class='co'># Output `col` and `row` -------------</span>

<span class='co'># Create columns `col` and `row` from `QuadratName` with `tidyr::separate()`</span>
<span class='co'># The argument `sep` lets you separate `QuadratName` at any positon</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='va'>tidyr_is_installed</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/ns-load.html'>requireNamespace</a></span><span class='op'>(</span><span class='st'>"tidyr"</span>, quietly <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='va'>stringr_is_installed</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/ns-load.html'>requireNamespace</a></span><span class='op'>(</span><span class='st'>"stringr"</span>, quietly <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='kw'>if</span> <span class='op'>(</span><span class='va'>tidyr_is_installed</span> <span class='op'>&amp;&amp;</span> <span class='va'>stringr_is_installed</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyr.tidyverse.org'>tidyr</a></span><span class='op'>)</span>
  <span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://stringr.tidyverse.org'>stringr</a></span><span class='op'>)</span>

  <span class='va'>vft</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>QuadratName <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"0001"</span>, <span class='st'>"0011"</span><span class='op'>)</span><span class='op'>)</span>
  <span class='va'>vft</span>

  <span class='fu'><a href='https://tidyr.tidyverse.org/reference/separate.html'>separate</a></span><span class='op'>(</span>
    <span class='va'>vft</span>,
    <span class='va'>QuadratName</span>,
    into <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"col"</span>, <span class='st'>"row"</span><span class='op'>)</span>,
    sep <span class='op'>=</span> <span class='fl'>2</span>
  <span class='op'>)</span>

  <span class='va'>census</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='fu'>fgeo.x</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/fgeo.x/man/datasets.html'>tree5</a></span>, <span class='va'>quadrat</span><span class='op'>)</span>
  <span class='va'>census</span>

  <span class='va'>census</span><span class='op'>$</span><span class='va'>quadrat</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_pad.html'>str_pad</a></span><span class='op'>(</span><span class='va'>census</span><span class='op'>$</span><span class='va'>quadrat</span>, width <span class='op'>=</span> <span class='fl'>4</span>, pad <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>

  <span class='fu'><a href='https://tidyr.tidyverse.org/reference/separate.html'>separate</a></span><span class='op'>(</span>
    <span class='va'>census</span>,
    <span class='va'>quadrat</span>,
    into <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"col"</span>, <span class='st'>"row"</span><span class='op'>)</span>,
    sep <span class='op'>=</span> <span class='fl'>2</span>,
    remove <span class='op'>=</span> <span class='cn'>FALSE</span>
  <span class='op'>)</span>
<span class='op'>}</span>
<span class='op'>}</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://github.com/maurolepore'>Mauro Lepore</a>, Richard Condit, Suzanne Lao, Anudeep Singh, <a href='http://www.forestgeo.si.edu/'>CTFS-ForestGEO</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


